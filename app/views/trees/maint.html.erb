<% content_for(:title_code, 'trees.maint.name') %>
<% content_for(:page_class, 'trees') %>
<%
   grades_str = translate('app.labels.grade_band').pluralize
   num_cols = 1 + (@show_bigidea && @editing ? 1 : 0) + (@show_miscon && @editing ? 1 : 0) + (@show_ess_q && @editing ? 1 :0)
%>
<br>
<div class='text-center dimension-page'>
  <h2><%= @page_title %></h2>
</div>
<% if @editing && @treeTypeRec.ess_q_dim_type != ""  %>
  <%=
      render partial: "show_maint_col_buttons", locals: {
      dim_type: @treeTypeRec.ess_q_dim_type,
      show_dim: @show_ess_q,
      dim_title: @ess_q_title
      }
  %>
<% end %>
<% if @editing && @treeTypeRec.big_ideas_dim_type != "" %>
  <%=
      render partial: "show_maint_col_buttons", locals: {
      dim_type: @treeTypeRec.big_ideas_dim_type,
      show_dim: @show_bigidea,
      dim_title: @ideas_title
      }
  %>
<% end %>
<% if @editing && @treeTypeRec.miscon_dim_type != ""  %>
  <%=
      render partial: "show_maint_col_buttons", locals: {
      dim_type: @treeTypeRec.miscon_dim_type,
      show_dim: @show_miscon,
      dim_title: @miscon_title
      }
  %>
<% end %>
<% subj_counter = 0 %>
<div id="trees" class="dimension-page maint-page">
  <div class="sequence-grid cols-<%= num_cols %>">

    <% competencies_partial = @use_alt_partial ? "alt_competency_grids_column" : "competency_grids_column" %>
    <%= render partial: (@editing ? "competencies_column" : competencies_partial) %>
    <% if @editing || @dim_type %>
      <%= if @treeTypeRec.ess_q_dim_type != ""
            render partial: "dim_column", locals: {
            dim_type: @treeTypeRec.ess_q_dim_type,
            show_dim: @show_ess_q,
            dim_gb: @eq_gb,
            dim_subj_base_key: @ess_q_subj_base_key,
            dim_title: @ess_q_title,
            dims: @dimensions_ess_q,
            grades_str: grades_str
            }
          end
      %>

      <%= if @treeTypeRec.big_ideas_dim_type != ""
            render partial: "dim_column", locals: {
            dim_type: @treeTypeRec.big_ideas_dim_type,
            show_dim: @show_bigidea,
            dim_gb: @bi_gb,
            dim_subj_base_key: @idea_subj_base_key,
            dim_title: @ideas_title,
            dims: @dimensions_bigideas,
            grades_str: grades_str
            }
          end
      %>

      <%= if @treeTypeRec.miscon_dim_type != ""
            render partial: "dim_column", locals: {
            dim_type: @treeTypeRec.miscon_dim_type,
            show_dim: @show_miscon,
            dim_gb: @m_gb,
            dim_subj_base_key: @misc_subj_base_key,
            dim_title: @miscon_title,
            dims: @dimensions_miscons,
            grades_str: grades_str
            }
          end
      %>

    <% end # if @editing || @dim_type %>


    </div>
  </div>
</div>
